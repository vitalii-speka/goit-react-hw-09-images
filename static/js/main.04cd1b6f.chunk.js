(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{11:function(e,t,a){e.exports={item:"ImageGalleryItem_item__95HTr",image:"ImageGalleryItem_image__3stLn"}},12:function(e,t,a){e.exports={button:"Button_button__z10tk",buttonWrapper:"Button_buttonWrapper__2ca5k"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__ZeNTK",Modal:"Modal_Modal__1wpyB"}},16:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__xEjXb"}},22:function(e,t,a){},24:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),o=a.n(c),s=(a(22),a(14)),u=a(3),i=a(7),l=(a(23),a(24),a(5)),b=a.n(l),j=a(1);function h(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(u.a)(a,2),c=n[0],o=n[1];return Object(j.jsx)("header",{onSubmit:function(e){if(e.preventDefault(),""===c)return i.b.info("please, enter your request");t(c),o("")},className:b.a.SearchBar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(j.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:b.a.SearchFormInput,type:"text",name:"searchName",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase().trim())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var m=a(11),d=a.n(m);function O(e){var t=e.photo;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("li",{className:d.a.item,children:Object(j.jsx)("img",{className:d.a.image,src:t.webformatURL,"data-large-url":t.largeImageURL,alt:t.tags})})})}O.defaultProps={largeImageURL:"",webformatURL:"",tags:""};var f=O,p=a(16),g=a.n(p);function x(e){var t=e.photos,a=e.onClick;return Object(j.jsx)("ul",{className:g.a.imageGallery,onClick:a,children:t.map((function(e){return Object(j.jsx)(f,{photo:e},e.id)}))})}x.defaultProps={photos:[]};var S=x,_=a(9),v=a.n(_),y=a(15),w=a(17),k=a(12),C=a.n(k),F=function(e){var t=e.children,a=e.onClick,r=Object(w.a)(e,["children","onClick"]);return Object(j.jsx)("div",{className:C.a.buttonWrapper,children:Object(j.jsxs)("button",Object(y.a)(Object(y.a)({type:"button",className:C.a.button,onClick:a},r),{},{children:["Load More ",t]}))})};F.defaultProps={onClick:function(){return null},children:null};var L=F,N=a(13),B=a.n(N),I=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.src,n=e.alt,o=Object(r.useState)(!0),s=Object(u.a)(o,2),i=s[0],l=s[1];Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&(t(),l(!0))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(j.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.currentTarget===e.target&&(t(),l(!0))},children:Object(j.jsxs)("div",{className:B.a.Modal,children:[i&&Object(j.jsx)(v.a,{type:"Watch",color:"#fff",height:500,width:500}),Object(j.jsx)("img",{src:a,alt:n,onLoad:function(){l(!1)}})]})}),I)}function M(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(u.a)(c,2),l=o[0],b=o[1],m=Object(r.useState)(""),d=Object(u.a)(m,2),O=d[0],f=d[1],p=Object(r.useState)(!1),g=Object(u.a)(p,2),x=g[0],_=g[1],y=Object(r.useState)(1),w=Object(u.a)(y,2),k=w[0],C=w[1],F=Object(r.useState)(!1),N=Object(u.a)(F,2),B=N[0],I=N[1],M=Object(r.useState)(""),T=Object(u.a)(M,2),G=T[0],P=T[1],q=Object(r.useState)(""),U=Object(u.a)(q,2),W=U[0],R=U[1],D=Object(r.useCallback)((function(){2!==k&&window.scrollTo({top:document.documentElement.scrollTop+450,behavior:"smooth"})}),[k]),z=Object(r.useCallback)((function(e){(function(e,t){return fetch("".concat("https://pixabay.com/api/","?key=").concat("19138235-266d6c5ac156d39437978a172","&q=").concat(e,"&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are no images for your query ".concat(e)))}))})(e,k).then((function(e){if(0===e.hits.length)return i.b.error("Sorry, your query was not found... "),void _(!1);n((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),_(!1),D()})).catch((function(){f(O.message)}))}),[k,D,O.message]);Object(r.useEffect)((function(){n([]),""!==l&&(_(!0),z(l))}),[z,l]);var H=function(){I((function(e){return!e}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{onSubmit:function(e){""!==e&&(b(e),C(1))}}),O&&Object(j.jsx)("h1",{style:{padding:"10px 20px",textAlign:"center",color:"red"},children:O.message}),a.length>0&&Object(j.jsx)(S,{photos:a,onClick:function(e){var t=e.target.dataset.largeUrl,a=e.target.alt;"IMG"===e.target.nodeName&&(P(t),R(a)),H()}}),a.length>=11?Object(j.jsx)(L,{"aria-label":"Load more",onClick:function(e){e.preventDefault(),z(l),C(k+1)}}):null,x&&Object(j.jsx)(v.a,{type:"Puff",color:"#000",height:500,width:500}),B&&Object(j.jsx)(E,{src:G,alt:W,onClose:H}),Object(j.jsx)(i.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={SearchBar:"Searchbar_SearchBar__sDg3L",SearchForm:"Searchbar_SearchForm__1t3xW",SearchFormButton:"Searchbar_SearchFormButton__2ZvOy",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3-y3V",SearchFormInput:"Searchbar_SearchFormInput__3V0nw"}}},[[47,1,2]]]);
//# sourceMappingURL=main.04cd1b6f.chunk.js.map